{"ast":null,"code":"var _jsxFileName = \"/Users/bunyo/React/react-libpro/src/Login.js\";\nimport React from 'react';\nimport \"./App.css\";\nimport axios from 'axios';\nimport ReactDOM from 'react-dom';\nimport App from \"./App\";\nimport { getLoginUrl } from \"./AppVariables\";\nimport { getBooksUrl } from \"./AppVariables\";\nimport { getUsersUrl } from \"./AppVariables\";\nimport { getUserBooksUrl } from \"./AppVariables\";\nimport BooksPage from \"./BooksPage\";\nimport UserPage from \"./UserPage\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      const password = event.target.value;\n      axios({\n        method: \"get\",\n        url: getLoginUrl(),\n        auth: {\n          username: this.props.userName.toUpperCase(),\n          password: password\n        }\n      }).then(res => {\n        this.login(res.data, this.props.userName.toUpperCase(), password);\n      }).catch(err => {\n        this.setState({\n          infoMessage: \"Girilen şifre doğru değil\"\n        });\n      });\n    };\n\n    this.handleBack = event => {\n      ReactDOM.render(React.createElement(App, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }), document.getElementById('root'));\n      event.preventDefault();\n    };\n\n    this.state = {\n      infoMessage: \"Şifre Giriniz\",\n      password: \"\"\n    };\n  }\n\n  login(isAdmin, userName, password) {\n    if (isAdmin) {\n      axios({\n        method: \"get\",\n        url: getBooksUrl(),\n        auth: {\n          username: userName,\n          password: password\n        }\n      }).then(res => {\n        ReactDOM.render(React.createElement(BooksPage, {\n          data: res.data,\n          userName: userName,\n          password: password,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }), document.getElementById('root'));\n      }).catch(error => {\n        alert(\"Bağlantı hatası \");\n      });\n    } else {\n      axios({\n        method: \"get\",\n        url: getBooksUrl(),\n        auth: {\n          username: userName,\n          password: password\n        }\n      }).then(res => {\n        var books = res.data;\n        axios({\n          method: \"get\",\n          url: getUsersUrl() + \"/\" + userName,\n          auth: {\n            username: userName,\n            password: password\n          }\n        }).then(res => {\n          var userId = res.data;\n          axios({\n            method: \"get\",\n            url: getUserBooksUrl() + \"/\" + userId,\n            auth: {\n              username: userName,\n              password: password\n            }\n          }).then(res => {\n            var userbooks = res.data;\n            ReactDOM.render(React.createElement(UserPage, {\n              userId: userId,\n              userbooks: userbooks,\n              books: books,\n              userName: userName,\n              password: password,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 87\n              },\n              __self: this\n            }), document.getElementById('root'));\n          }).catch(error => {\n            alert(\"Bağlantı hatası userbooks\");\n          });\n        }).catch(error => {\n          alert(\"Bağlantı hatası userId\");\n        });\n      }).catch(error => {\n        alert(\"Bağlantı hatası books\");\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      className: \"form-style-7\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, this.props.userName)), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      html: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"\\u015Eifre\"), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"userName\",\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      autoFocus: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, this.state.infoMessage)), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Geri\",\n      name: \"backButton\",\n      onClick: this.handleBack,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/bunyo/React/react-libpro/src/Login.js"],"names":["React","axios","ReactDOM","App","getLoginUrl","getBooksUrl","getUsersUrl","getUserBooksUrl","BooksPage","UserPage","Login","Component","constructor","props","handleChange","event","password","target","value","method","url","auth","username","userName","toUpperCase","then","res","login","data","catch","err","setState","infoMessage","handleBack","render","document","getElementById","preventDefault","state","isAdmin","error","alert","books","userId","userbooks","handleSubmit"],"mappings":"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","sourcesContent":["import React from 'react';\nimport \"./App.css\";\nimport axios from 'axios';\nimport ReactDOM from 'react-dom';\nimport App from \"./App\";\nimport {getLoginUrl} from \"./AppVariables\";\nimport {getBooksUrl} from \"./AppVariables\";\nimport {getUsersUrl} from \"./AppVariables\";\nimport {getUserBooksUrl} from \"./AppVariables\";\nimport BooksPage from \"./BooksPage\";\nimport UserPage from \"./UserPage\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {infoMessage:\"Şifre Giriniz\",password:\"\"};\n  }\n  handleChange = (event) =>{\n    const password = event.target.value;\n    axios({\n      method: \"get\",\n      url: getLoginUrl(),\n      auth: {\n        username: this.props.userName.toUpperCase(),\n        password: password\n      }\n    })\n    .then(res=>{\n      this.login(res.data,this.props.userName.toUpperCase(),password);\n    })\n    .catch(err=>{\n      this.setState({infoMessage:\"Girilen şifre doğru değil\"});\n    })\n  }\n  handleBack = (event) => {\n    ReactDOM.render(<App />, document.getElementById('root'));\n    event.preventDefault()\n  }\n  login(isAdmin,userName,password){\n    if(isAdmin){\n      axios({\n        method: \"get\",\n        url: getBooksUrl(),\n        auth: {\n          username: userName,\n          password: password\n        }\n      })\n      .then(res => {\n        ReactDOM.render(<BooksPage data={res.data} userName={userName} password={password}/>, document.getElementById('root'));\n      })\n      .catch(error => {\n        alert(\"Bağlantı hatası \")\n      });\n    }\n    else{\n      axios({\n        method: \"get\",\n        url: getBooksUrl(),\n        auth: {\n          username: userName,\n          password: password\n        }\n      })\n      .then(res => {\n        var books = res.data;\n        axios({\n          method: \"get\",\n          url: getUsersUrl()+\"/\"+userName,\n          auth: {\n            username: userName,\n            password: password\n          }\n        })\n        .then(res => {\n          var userId = res.data;\n          axios({\n            method: \"get\",\n            url: getUserBooksUrl()+\"/\"+userId,\n            auth: {\n              username: userName,\n              password: password\n            }\n          })\n          .then(res => {\n            var userbooks = res.data;\n            ReactDOM.render(<UserPage userId={userId} userbooks={userbooks} books={books} userName={userName} password={password}/>, document.getElementById('root'));\n          })\n          .catch(error => {\n            alert(\"Bağlantı hatası userbooks\")\n          });\n        })\n        .catch(error => {\n          alert(\"Bağlantı hatası userId\")\n        });\n      })\n      .catch(error => {\n        alert(\"Bağlantı hatası books\")\n      });\n    }\n  }\n  render(){\n    return(\n      <form className=\"form-style-7\" onSubmit={this.handleSubmit}>\n        <ul>\n          <li><span>{this.props.userName}</span></li>\n          <li>\n            <label html=\"name\">Şifre</label>\n            <input type=\"password\" name=\"userName\"  onChange={this.handleChange} autoComplete=\"off\" autoFocus/>\n          </li>\n          <li><span>{this.state.infoMessage}</span></li>\n          <input type=\"submit\" value=\"Geri\" name=\"backButton\" onClick={this.handleBack} />\n        </ul>\n      </form>\n    );\n  }\n}\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}