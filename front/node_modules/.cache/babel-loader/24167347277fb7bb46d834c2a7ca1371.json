{"ast":null,"code":"var _jsxFileName = \"/Users/bunyo/React/react-libpro/src/Login.js\";\nimport React from 'react';\nimport \"./App.css\";\nimport axios from 'axios';\nimport ReactDOM from 'react-dom';\nimport App from \"./App\";\nimport { getLoginUrl } from \"./AppVariables\";\nimport { getBooksUrl } from \"./AppVariables\";\nimport { getUsersUrl } from \"./AppVariables\";\nimport { getUserBooksUrl } from \"./AppVariables\";\nimport BooksPage from \"./BooksPage\";\nimport UserPage from \"./UserPage\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      const password = event.target.value;\n      axios({\n        method: \"get\",\n        url: getLoginUrl(),\n        auth: {\n          username: this.props.userName,\n          password: password\n        }\n      }).then(res => {\n        this.login(res.data, this.props.userName, password);\n      }).catch(err => {\n        this.setState({\n          infoMessage: \"Girilen şifre doğru değil\"\n        });\n      });\n    };\n\n    this.handleBack = event => {\n      ReactDOM.render(React.createElement(App, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }), document.getElementById('root'));\n    };\n\n    this.state = {\n      infoMessage: \"Şifre Giriniz\",\n      password: \"\"\n    };\n  }\n\n  login(isAdmin, userName, password) {\n    if (isAdmin) {\n      axios({\n        method: \"get\",\n        url: getBooksUrl(),\n        auth: {\n          username: userName,\n          password: password\n        }\n      }).then(res => {\n        ReactDOM.render(React.createElement(BooksPage, {\n          data: res.data,\n          userName: userName,\n          password: password,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }), document.getElementById('root'));\n      }).catch(error => {\n        alert(\"Bağlantı hatası \");\n      });\n    } else {\n      axios({\n        method: \"get\",\n        url: getBooksUrl(),\n        auth: {\n          username: userName,\n          password: password\n        }\n      }).then(res => {\n        console.log(res);\n        var books = res.data;\n        axios({\n          method: \"get\",\n          url: getUsersUrl() + \"/\" + userName,\n          auth: {\n            username: userName,\n            password: password\n          }\n        }).then(res => {\n          var userId = res.data;\n          /*\n          axios({\n            method: \"get\",\n            url: getUserBooksUrl()+\"/\"+userId,\n            auth: {\n              username: userName,\n              password: password\n            }\n          })\n          .then(res => {\n            console.log(res);\n            var userbooks = res.data;\n            ReactDOM.render(<UserPage userId={userId} userbooks={userbooks} books={books} userName={userName} password={password}/>, document.getElementById('root'));\n          })\n          .catch(error => {\n            alert(\"Bağlantı hatası userbooks\")\n          });\n          */\n\n          alert(userId);\n        }).catch(error => {\n          alert(\"Bağlantı hatası userId\");\n        });\n      }).catch(error => {\n        alert(\"Bağlantı hatası books\");\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      className: \"form-style-7\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, this.props.userName)), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      html: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"\\u015Eifre\"), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"userName\",\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      autoFocus: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    })), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, this.state.infoMessage)), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Geri\",\n      name: \"backButton\",\n      onClick: this.handleBack,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/bunyo/React/react-libpro/src/Login.js"],"names":["React","axios","ReactDOM","App","getLoginUrl","getBooksUrl","getUsersUrl","getUserBooksUrl","BooksPage","UserPage","Login","Component","constructor","props","handleChange","event","password","target","value","method","url","auth","username","userName","then","res","login","data","catch","err","setState","infoMessage","handleBack","render","document","getElementById","state","isAdmin","error","alert","console","log","books","userId","handleSubmit"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AACA,SAAQC,WAAR,QAA0B,gBAA1B;AACA,SAAQC,WAAR,QAA0B,gBAA1B;AACA,SAAQC,WAAR,QAA0B,gBAA1B;AACA,SAAQC,eAAR,QAA8B,gBAA9B;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,QAAP,MAAqB,YAArB;;AAEA,MAAMC,KAAN,SAAoBV,KAAK,CAACW,SAA1B,CAAoC;AAClCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAKnBC,YALmB,GAKHC,KAAD,IAAU;AACvB,YAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAN,CAAaC,KAA9B;AACAjB,MAAAA,KAAK,CAAC;AACJkB,QAAAA,MAAM,EAAE,KADJ;AAEJC,QAAAA,GAAG,EAAEhB,WAAW,EAFZ;AAGJiB,QAAAA,IAAI,EAAE;AACJC,UAAAA,QAAQ,EAAE,KAAKT,KAAL,CAAWU,QADjB;AAEJP,UAAAA,QAAQ,EAAEA;AAFN;AAHF,OAAD,CAAL,CAQCQ,IARD,CAQMC,GAAG,IAAE;AACT,aAAKC,KAAL,CAAWD,GAAG,CAACE,IAAf,EAAoB,KAAKd,KAAL,CAAWU,QAA/B,EAAwCP,QAAxC;AACD,OAVD,EAWCY,KAXD,CAWOC,GAAG,IAAE;AACV,aAAKC,QAAL,CAAc;AAACC,UAAAA,WAAW,EAAC;AAAb,SAAd;AACD,OAbD;AAcD,KArBkB;;AAAA,SAsBnBC,UAtBmB,GAsBLjB,KAAD,IAAW;AACtBb,MAAAA,QAAQ,CAAC+B,MAAT,CAAgB,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAhB,EAAyBC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAzB;AACD,KAxBkB;;AAEjB,SAAKC,KAAL,GAAa;AAACL,MAAAA,WAAW,EAAC,eAAb;AAA6Bf,MAAAA,QAAQ,EAAC;AAAtC,KAAb;AAED;;AAqBDU,EAAAA,KAAK,CAACW,OAAD,EAASd,QAAT,EAAkBP,QAAlB,EAA2B;AAC9B,QAAGqB,OAAH,EAAW;AACTpC,MAAAA,KAAK,CAAC;AACJkB,QAAAA,MAAM,EAAE,KADJ;AAEJC,QAAAA,GAAG,EAAEf,WAAW,EAFZ;AAGJgB,QAAAA,IAAI,EAAE;AACJC,UAAAA,QAAQ,EAAEC,QADN;AAEJP,UAAAA,QAAQ,EAAEA;AAFN;AAHF,OAAD,CAAL,CAQCQ,IARD,CAQMC,GAAG,IAAI;AACXvB,QAAAA,QAAQ,CAAC+B,MAAT,CAAgB,oBAAC,SAAD;AAAW,UAAA,IAAI,EAAER,GAAG,CAACE,IAArB;AAA2B,UAAA,QAAQ,EAAEJ,QAArC;AAA+C,UAAA,QAAQ,EAAEP,QAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAhB,EAAsFkB,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAtF;AACD,OAVD,EAWCP,KAXD,CAWOU,KAAK,IAAI;AACdC,QAAAA,KAAK,CAAC,kBAAD,CAAL;AACD,OAbD;AAcD,KAfD,MAgBI;AACFtC,MAAAA,KAAK,CAAC;AACJkB,QAAAA,MAAM,EAAE,KADJ;AAEJC,QAAAA,GAAG,EAAEf,WAAW,EAFZ;AAGJgB,QAAAA,IAAI,EAAE;AACJC,UAAAA,QAAQ,EAAEC,QADN;AAEJP,UAAAA,QAAQ,EAAEA;AAFN;AAHF,OAAD,CAAL,CAQCQ,IARD,CAQMC,GAAG,IAAI;AACXe,QAAAA,OAAO,CAACC,GAAR,CAAYhB,GAAZ;AACA,YAAIiB,KAAK,GAAGjB,GAAG,CAACE,IAAhB;AACA1B,QAAAA,KAAK,CAAC;AACJkB,UAAAA,MAAM,EAAE,KADJ;AAEJC,UAAAA,GAAG,EAAEd,WAAW,KAAG,GAAd,GAAkBiB,QAFnB;AAGJF,UAAAA,IAAI,EAAE;AACJC,YAAAA,QAAQ,EAAEC,QADN;AAEJP,YAAAA,QAAQ,EAAEA;AAFN;AAHF,SAAD,CAAL,CAQCQ,IARD,CAQMC,GAAG,IAAI;AACX,cAAIkB,MAAM,GAAGlB,GAAG,CAACE,IAAjB;AACA;;;;;;;;;;;;;;;;;;;AAkBAY,UAAAA,KAAK,CAACI,MAAD,CAAL;AACD,SA7BD,EA8BCf,KA9BD,CA8BOU,KAAK,IAAI;AACdC,UAAAA,KAAK,CAAC,wBAAD,CAAL;AACD,SAhCD;AAkCD,OA7CD,EA8CCX,KA9CD,CA8COU,KAAK,IAAI;AACdC,QAAAA,KAAK,CAAC,uBAAD,CAAL;AACD,OAhDD;AAiDD;AACF;;AACDN,EAAAA,MAAM,GAAE;AACN,WACE;AAAM,MAAA,SAAS,EAAC,cAAhB;AAA+B,MAAA,QAAQ,EAAE,KAAKW,YAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAO,KAAK/B,KAAL,CAAWU,QAAlB,CAAJ,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,IAAI,EAAC,UAA5B;AAAwC,MAAA,QAAQ,EAAE,KAAKT,YAAvD;AAAqE,MAAA,YAAY,EAAC,KAAlF;AAAwF,MAAA,SAAS,MAAjG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAFF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAO,KAAKsB,KAAL,CAAWL,WAAlB,CAAJ,CANF,EAOE;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAC,MAA3B;AAAkC,MAAA,IAAI,EAAC,YAAvC;AAAoD,MAAA,OAAO,EAAE,KAAKC,UAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CADF,CADF;AAaD;;AA7GiC;;AA+GpC,eAAetB,KAAf","sourcesContent":["import React from 'react';\nimport \"./App.css\";\nimport axios from 'axios';\nimport ReactDOM from 'react-dom';\nimport App from \"./App\";\nimport {getLoginUrl} from \"./AppVariables\";\nimport {getBooksUrl} from \"./AppVariables\";\nimport {getUsersUrl} from \"./AppVariables\";\nimport {getUserBooksUrl} from \"./AppVariables\";\nimport BooksPage from \"./BooksPage\";\nimport UserPage from \"./UserPage\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {infoMessage:\"Şifre Giriniz\",password:\"\"};\n\n  }\n  handleChange = (event) =>{\n    const password = event.target.value;\n    axios({\n      method: \"get\",\n      url: getLoginUrl(),\n      auth: {\n        username: this.props.userName,\n        password: password\n      }\n    })\n    .then(res=>{\n      this.login(res.data,this.props.userName,password);\n    })\n    .catch(err=>{\n      this.setState({infoMessage:\"Girilen şifre doğru değil\"});\n    })\n  }\n  handleBack = (event) => {\n    ReactDOM.render(<App />, document.getElementById('root'));\n  }\n  login(isAdmin,userName,password){\n    if(isAdmin){\n      axios({\n        method: \"get\",\n        url: getBooksUrl(),\n        auth: {\n          username: userName,\n          password: password\n        }\n      })\n      .then(res => {\n        ReactDOM.render(<BooksPage data={res.data} userName={userName} password={password}/>, document.getElementById('root'));\n      })\n      .catch(error => {\n        alert(\"Bağlantı hatası \")\n      });\n    }\n    else{\n      axios({\n        method: \"get\",\n        url: getBooksUrl(),\n        auth: {\n          username: userName,\n          password: password\n        }\n      })\n      .then(res => {\n        console.log(res);\n        var books = res.data;\n        axios({\n          method: \"get\",\n          url: getUsersUrl()+\"/\"+userName,\n          auth: {\n            username: userName,\n            password: password\n          }\n        })\n        .then(res => {\n          var userId = res.data;\n          /*\n          axios({\n            method: \"get\",\n            url: getUserBooksUrl()+\"/\"+userId,\n            auth: {\n              username: userName,\n              password: password\n            }\n          })\n          .then(res => {\n            console.log(res);\n            var userbooks = res.data;\n            ReactDOM.render(<UserPage userId={userId} userbooks={userbooks} books={books} userName={userName} password={password}/>, document.getElementById('root'));\n          })\n          .catch(error => {\n            alert(\"Bağlantı hatası userbooks\")\n          });\n          */\n          alert(userId);\n        })\n        .catch(error => {\n          alert(\"Bağlantı hatası userId\")\n        });\n\n      })\n      .catch(error => {\n        alert(\"Bağlantı hatası books\")\n      });\n    }\n  }\n  render(){\n    return(\n      <form className=\"form-style-7\" onSubmit={this.handleSubmit}>\n        <ul>\n          <li><span>{this.props.userName}</span></li>\n          <li>\n            <label html=\"name\">Şifre</label>\n            <input type=\"password\" name=\"userName\"  onChange={this.handleChange} autoComplete=\"off\" autoFocus/>\n          </li>\n          <li><span>{this.state.infoMessage}</span></li>\n          <input type=\"submit\" value=\"Geri\" name=\"backButton\" onClick={this.handleBack} />\n        </ul>\n      </form>\n    );\n  }\n}\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}