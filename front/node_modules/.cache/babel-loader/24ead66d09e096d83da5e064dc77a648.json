{"ast":null,"code":"var _jsxFileName = \"/Users/bunyo/React/react-libpro/src/Login.js\";\nimport React from 'react';\nimport \"./App.css\";\nimport axios from 'axios';\nimport ReactDOM from 'react-dom';\nimport App from \"./App\";\nimport { getLoginUrl } from \"./AppVariables\";\nimport { getBooksUrl } from \"./AppVariables\";\nimport { getUsersUrl } from \"./AppVariables\";\nimport { getUserBooksUrl } from \"./AppVariables\";\nimport BooksPage from \"./BooksPage\";\nimport UserPage from \"./UserPage\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      axios({\n        method: \"get\",\n        url: getLoginUrl(),\n        auth: {\n          username: this.props.userName,\n          password: event.target.value\n        }\n      }).then(res => {\n        this.login(res.data, this.props.userName, event.target.value);\n      }).catch(err => {\n        this.setState({\n          infoMessage: \"Girilen şifre doğru değil\"\n        });\n      });\n    };\n\n    this.handleBack = event => {\n      ReactDOM.render(React.createElement(App, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }), document.getElementById('root'));\n    };\n\n    this.state = {\n      infoMessage: \"Şifre Giriniz\",\n      password: \"\"\n    };\n  }\n\n  login(isAdmin, userName, password) {\n    alert(userName + \" : \" + password);\n    /*\n    if(isAdmin){\n      axios({\n        method: \"get\",\n        url: getBooksUrl(),\n        auth: {\n        username: userName,\n        password: password\n      }\n      })\n      .then(res => {\n        ReactDOM.render(<BooksPage data={res.data} userName={userName} password={password}/>, document.getElementById('root'));\n     })\n      .catch(error => {\n        alert(\"Bağlantı hatası \")\n     });\n    }\n    else{\n      axios({\n        method: \"get\",\n        url: getBooksUrl(),\n        auth: {\n        username: userName,\n        password: password\n      }\n      })\n      .then(res => {\n        console.log(res);\n        var books = res.data;\n        axios({\n          method: \"get\",\n          url: getUsersUrl()+\"/\"+userName,\n          auth: {\n          username: userName,\n          password: password\n        }\n        })\n        .then(res => {\n          var userId = res.data;\n          axios({\n            method: \"get\",\n            url: getUserBooksUrl()+\"/\"+userId,\n            auth: {\n              username: userName,\n              password: password\n            }\n          })\n          .then(res => {\n            console.log(res);\n            var userbooks = res.data;\n            ReactDOM.render(<UserPage userId={userId} userbooks={userbooks} books={books}userName={userName} password={password}/>, document.getElementById('root'));\n          })\n          .catch(error => {\n            alert(\"Bağlantı hatası userbooks\")\n          });\n        })\n        .catch(error => {\n          alert(\"Bağlantı hatası userId\")\n       });\n      })\n      .catch(error => {\n        alert(\"Bağlantı hatası books\")\n     });\n    }\n    */\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      className: \"form-style-7\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, this.props.userName)), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      html: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"\\u015Eifre\"), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"userName\",\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      autoFocus: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    })), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, this.state.infoMessage)), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Geri\",\n      name: \"backButton\",\n      onClick: this.handleBack,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/bunyo/React/react-libpro/src/Login.js"],"names":["React","axios","ReactDOM","App","getLoginUrl","getBooksUrl","getUsersUrl","getUserBooksUrl","BooksPage","UserPage","Login","Component","constructor","props","handleChange","event","method","url","auth","username","userName","password","target","value","then","res","login","data","catch","err","setState","infoMessage","handleBack","render","document","getElementById","state","isAdmin","alert","handleSubmit"],"mappings":"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","sourcesContent":["import React from 'react';\nimport \"./App.css\";\nimport axios from 'axios';\nimport ReactDOM from 'react-dom';\nimport App from \"./App\";\nimport {getLoginUrl} from \"./AppVariables\";\nimport {getBooksUrl} from \"./AppVariables\";\nimport {getUsersUrl} from \"./AppVariables\";\nimport {getUserBooksUrl} from \"./AppVariables\";\nimport BooksPage from \"./BooksPage\";\nimport UserPage from \"./UserPage\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {infoMessage:\"Şifre Giriniz\",password:\"\"};\n\n  }\n  handleChange = (event) =>{\n    axios({\n      method: \"get\",\n      url: getLoginUrl(),\n      auth: {\n        username: this.props.userName,\n        password: event.target.value\n      }\n    })\n    .then(res=>{\n      this.login(res.data,this.props.userName,event.target.value);\n    })\n    .catch(err=>{\n      this.setState({infoMessage:\"Girilen şifre doğru değil\"});\n    })\n  }\n  handleBack = (event) => {\n    ReactDOM.render(<App />, document.getElementById('root'));\n  }\n  login(isAdmin,userName,password){\n    alert(userName+\" : \"+password);\n    /*\n    if(isAdmin){\n      axios({\n        method: \"get\",\n        url: getBooksUrl(),\n        auth: {\n        username: userName,\n        password: password\n      }\n      })\n      .then(res => {\n        ReactDOM.render(<BooksPage data={res.data} userName={userName} password={password}/>, document.getElementById('root'));\n     })\n      .catch(error => {\n        alert(\"Bağlantı hatası \")\n     });\n    }\n    else{\n      axios({\n        method: \"get\",\n        url: getBooksUrl(),\n        auth: {\n        username: userName,\n        password: password\n      }\n      })\n      .then(res => {\n        console.log(res);\n        var books = res.data;\n        axios({\n          method: \"get\",\n          url: getUsersUrl()+\"/\"+userName,\n          auth: {\n          username: userName,\n          password: password\n        }\n        })\n        .then(res => {\n          var userId = res.data;\n          axios({\n            method: \"get\",\n            url: getUserBooksUrl()+\"/\"+userId,\n            auth: {\n              username: userName,\n              password: password\n            }\n          })\n          .then(res => {\n            console.log(res);\n            var userbooks = res.data;\n            ReactDOM.render(<UserPage userId={userId} userbooks={userbooks} books={books}userName={userName} password={password}/>, document.getElementById('root'));\n          })\n          .catch(error => {\n            alert(\"Bağlantı hatası userbooks\")\n          });\n        })\n        .catch(error => {\n          alert(\"Bağlantı hatası userId\")\n       });\n\n     })\n      .catch(error => {\n        alert(\"Bağlantı hatası books\")\n     });\n    }\n    */\n  }\n  render(){\n    return(\n      <form className=\"form-style-7\" onSubmit={this.handleSubmit}>\n        <ul>\n          <li><span>{this.props.userName}</span></li>\n          <li>\n            <label html=\"name\">Şifre</label>\n            <input type=\"password\" name=\"userName\"  onChange={this.handleChange} autoComplete=\"off\" autoFocus/>\n          </li>\n          <li><span>{this.state.infoMessage}</span></li>\n          <input type=\"submit\" value=\"Geri\" name=\"backButton\" onClick={this.handleBack} />\n        </ul>\n      </form>\n    );\n  }\n}\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}