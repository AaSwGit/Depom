{"ast":null,"code":"var _jsxFileName = \"/Users/bunyo/React/react-libpro/src/Login.js\";\nimport React from 'react';\nimport \"./App.css\";\nimport axios from 'axios';\nimport ReactDOM from 'react-dom';\nimport App from \"./App\";\nimport { getLoginUrl } from \"./AppVariables\";\nimport { getBooksUrl } from \"./AppVariables\";\nimport { getUsersUrl } from \"./AppVariables\";\nimport { getUserBooksUrl } from \"./AppVariables\";\nimport BooksPage from \"./BooksPage\";\nimport UserPage from \"./UserPage\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      axios({\n        method: \"get\",\n        url: getLoginUrl(),\n        auth: {\n          username: this.props.userName,\n          password: event.target.value\n        }\n      }).then(res => {\n        this.login(res.data, this.props.userName, this.state.password);\n      }).catch(err => {\n        this.setState({\n          infoMessage: \"Girilen şifre doğru değil\"\n        });\n      });\n    };\n\n    this.handleBack = event => {\n      ReactDOM.render(React.createElement(App, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }), document.getElementById('root'));\n    };\n\n    this.state = {\n      infoMessage: \"Şifre Giriniz\",\n      password: \"\"\n    };\n  }\n\n  login(isAdmin, userName, password) {\n    if (isAdmin) {\n      axios({\n        method: \"get\",\n        url: getBooksUrl(),\n        auth: {\n          username: userName,\n          password: password\n        }\n      }).then(res => {\n        ReactDOM.render(React.createElement(BooksPage, {\n          data: res.data,\n          userName: userName,\n          password: password,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }), document.getElementById('root'));\n      }).catch(error => {\n        alert(\"Bağlantı hatası \");\n      });\n    } else {\n      axios({\n        method: \"get\",\n        url: getBooksUrl(),\n        auth: {\n          username: userName,\n          password: password\n        }\n      }).then(res => {\n        console.log(res);\n        var books = res.data;\n        axios({\n          method: \"get\",\n          url: getUsersUrl() + \"/\" + userName,\n          auth: {\n            username: userName,\n            password: password\n          }\n        }).then(res => {\n          var userId = res.data;\n          axios({\n            method: \"get\",\n            url: getUserBooksUrl() + \"/\" + userId,\n            auth: {\n              username: userName,\n              password: password\n            }\n          }).then(res => {\n            console.log(res);\n            var userbooks = res.data;\n            ReactDOM.render(React.createElement(UserPage, {\n              userId: userId,\n              userbooks: userbooks,\n              books: books,\n              userName: userName,\n              password: password,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 88\n              },\n              __self: this\n            }), document.getElementById('root'));\n          }).catch(error => {\n            alert(\"Bağlantı hatası userbooks\");\n          });\n        }).catch(error => {\n          alert(\"Bağlantı hatası userId\");\n        });\n      }).catch(error => {\n        alert(\"Bağlantı hatası books\");\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      className: \"form-style-7\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, this.props.userName)), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      html: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"\\u015Eifre\"), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"userName\",\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      autoFocus: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    })), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, this.state.infoMessage)), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Geri\",\n      name: \"backButton\",\n      onClick: this.handleBack,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/bunyo/React/react-libpro/src/Login.js"],"names":["React","axios","ReactDOM","App","getLoginUrl","getBooksUrl","getUsersUrl","getUserBooksUrl","BooksPage","UserPage","Login","Component","constructor","props","handleChange","event","method","url","auth","username","userName","password","target","value","then","res","login","data","state","catch","err","setState","infoMessage","handleBack","render","document","getElementById","isAdmin","error","alert","console","log","books","userId","userbooks","handleSubmit"],"mappings":"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","sourcesContent":["import React from 'react';\nimport \"./App.css\";\nimport axios from 'axios';\nimport ReactDOM from 'react-dom';\nimport App from \"./App\";\nimport {getLoginUrl} from \"./AppVariables\";\nimport {getBooksUrl} from \"./AppVariables\";\nimport {getUsersUrl} from \"./AppVariables\";\nimport {getUserBooksUrl} from \"./AppVariables\";\nimport BooksPage from \"./BooksPage\";\nimport UserPage from \"./UserPage\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {infoMessage:\"Şifre Giriniz\",password:\"\"};\n\n  }\n  handleChange = (event) =>{\n    axios({\n      method: \"get\",\n      url: getLoginUrl(),\n      auth: {\n        username: this.props.userName,\n        password: event.target.value\n      }\n    })\n    .then(res=>{\n      this.login(res.data,this.props.userName,this.state.password);\n    })\n    .catch(err=>{\n      this.setState({infoMessage:\"Girilen şifre doğru değil\"});\n    })\n  }\n  handleBack = (event) => {\n    ReactDOM.render(<App />, document.getElementById('root'));\n  }\n  login(isAdmin,userName,password){\n    if(isAdmin){\n      axios({\n        method: \"get\",\n        url: getBooksUrl(),\n        auth: {\n        username: userName,\n        password: password\n      }\n      })\n      .then(res => {\n        ReactDOM.render(<BooksPage data={res.data} userName={userName} password={password}/>, document.getElementById('root'));\n     })\n      .catch(error => {\n        alert(\"Bağlantı hatası \")\n     });\n    }\n    else{\n      axios({\n        method: \"get\",\n        url: getBooksUrl(),\n        auth: {\n        username: userName,\n        password: password\n      }\n      })\n      .then(res => {\n        console.log(res);\n        var books = res.data;\n        axios({\n          method: \"get\",\n          url: getUsersUrl()+\"/\"+userName,\n          auth: {\n          username: userName,\n          password: password\n        }\n        })\n        .then(res => {\n          var userId = res.data;\n          axios({\n            method: \"get\",\n            url: getUserBooksUrl()+\"/\"+userId,\n            auth: {\n              username: userName,\n              password: password\n            }\n          })\n          .then(res => {\n            console.log(res);\n            var userbooks = res.data;\n            ReactDOM.render(<UserPage userId={userId} userbooks={userbooks} books={books}userName={userName} password={password}/>, document.getElementById('root'));\n          })\n          .catch(error => {\n            alert(\"Bağlantı hatası userbooks\")\n          });\n        })\n        .catch(error => {\n          alert(\"Bağlantı hatası userId\")\n       });\n\n     })\n      .catch(error => {\n        alert(\"Bağlantı hatası books\")\n     });\n    }\n  }\n  render(){\n    return(\n      <form className=\"form-style-7\" onSubmit={this.handleSubmit}>\n        <ul>\n          <li><span>{this.props.userName}</span></li>\n          <li>\n            <label html=\"name\">Şifre</label>\n            <input type=\"password\" name=\"userName\"  onChange={this.handleChange} autoComplete=\"off\" autoFocus/>\n          </li>\n          <li><span>{this.state.infoMessage}</span></li>\n          <input type=\"submit\" value=\"Geri\" name=\"backButton\" onClick={this.handleBack} />\n        </ul>\n      </form>\n    );\n  }\n}\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}